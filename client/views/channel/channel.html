<template name="channel">
  {{#contentFor 'header'}}
  {{> channelHeader}}
  {{/contentFor}}

  <ul>
    {{#each messages}}
    {{#if date}}
    <h2>{{date}}</h2>
    {{/if}}
    <li>
      {{#if avatar}}
      <img src="{{image}}" class="avatar">
      {{/if}}
      <div class="message-body">
        <div><span class="username">{{user.username}}</span> <span class="time">{{time}}</span></div>
        {{> messageBody}}
      </div>
    </li>
    {{/each}}
  </ul>

  {{#contentFor 'footer'}}
  {{> messageForm}}
  {{/contentFor}}

  {{> home}}
</template>

<template name="messageBody">
  <div class="message">{{#markdown}}{{{message}}} - <span class="artist">{{artist}}</span>{{/markdown}}
  </div>
</template>

<template name="messageForm">
  <form>
    <textarea rows="1" cols="100"></textarea>
  </form>
</template>

<template name="channelHeader">
    <h1>{{channel.name}} <button type="button" id="startGameButton">{{gameStateButton}}</button></h1>
</template>